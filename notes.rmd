---
title: "Notes from *Introduction to Empirical Bayes*"
author: "Peter Lukacs"
output:
    html_document:
        fig_width: 9
        fig_height: 5
        fig_align: center
---

```{r "load-packages", echo=FALSE, warning=FALSE}
source('global.R')
```

# I Empirical Bayes

## The beta distribution

  + The beta distribution is a probability distribution with two parameters `alpha` and `beta`, constrained to between 0 and 1.
  
```{r "beta-distro-plot", echo=FALSE}
beta_distro_params <- data.frame(a = c(1, 3, 20, 50), b = c(2, 3, 20, 10))
beta_distro_dt <- as.data.table(merge(beta_distro_params, x = seq(0, 1, 0.001), all = TRUE)) %>%
    .[, beta_density_value := dbeta(x, a, b), by = .(x, a, b)] %>%
    .[, Parameters := sprintf("a: %d, b: %d", a, b)]
ggplot(beta_distro_dt, aes(x, beta_density_value, color = Parameters)) +
    geom_line() +
    scale_y_continuous(name = "Density of beta") +
    ggtitle("The beta distribution") +
    theme_light()
```

  + **Batting average** is an important baseball statistics which is calculated as the number of **hits (H)** divided by the number of **at-bats (AB)**. A player's batting average is always between 0 and 1 and can be represented with the beta distribution.
  
  \[Batting\ Average = \frac{H}{AB}\]
  
  + If a player starts out with a single or a strike out we wont't predict that his BA will be 1 or 0. This is because we've seen in the history that players tend to have a BA between .270 and .300, thus we have *prior expectations*.
  
  > The number of hits a player gets out of his at-bats is an example of a **binomial distribution**, which models a count of successes out of a total. Since it's a binomial, the best way to represent the prior expectations is with the beta distribution.

# II Hypothesis testing
